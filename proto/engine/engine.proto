syntax = "proto3";
package engine;
option go_package = "sirius.engine.v1;engine1";

service Engine {
    rpc WedSocket (WedSocketRequest) returns (WedSocketResponse);
    rpc LobbyList (LobbyListRequest) returns (LobbyListResponse);
}

message WedSocketRequest {
    User User = 1;
    string Action = 2;
    bytes Payload = 3;
}

message WedSocketResponse {
  string Event_type = 1;
  Room Room = 2;
  bytes Payload = 3;
}

message LobbyListRequest {
    int64 Page = 1;
    int64 SizePage = 2;
    SearchMod SearchMod = 3;
    SearchParms ParmsMod = 4;
}

message SearchMod {
    bool MaxPlayers = 1;
    bool DeckSize = 2;
    bool SpeedMod = 3;
    bool ThrowMod = 4;
    bool PassingMod = 5;
    bool TricksMod = 6;
    bool Stake = 7;
}

message SearchParms {
    int64 MaxPlayers = 1;
    int64 DeckSize = 2;
    bool SpeedMod = 3;
    bool ThrowMod = 4;
    bool PassingMod = 5;
    bool TricksMod = 6;
    repeated int64 Stake = 7;
}

message LobbyListResponse {
    int64 Pages = 1;
    repeated Room Rooms = 2;
}

message Room {
    string Roomid = 1;
    Mod Mod = 2;
    bool Open = 3;
    int64 Usercount = 4;
    repeated User Userslist = 5;
}

message Mod {
    int64 Players = 1;
    int64 Decksize = 2;
    int64 Stake = 3;
    bool Speed = 4;
    bool Passing = 5;
    bool Throw = 6;
    bool Tricks = 7;
    bool Private = 8;
}

message User {
    bool Addedtoattachmentmenu = 1;
    bool Allowswritetopm = 2;
    string Firstname = 3;
    int64 Id = 4;
    bool Isbot = 5;
    bool Ispremium = 6;
    string Lastname = 7;
    string Username = 8;
    string Languagecode = 9;
    string Photourl = 10;
}

